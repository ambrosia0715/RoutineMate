# 🚀 RoutineMate 빠른 시작 가이드

## ✅ 완료된 구현

### 핵심 기능 ✨
```
✅ Firebase Firestore 실시간 데이터베이스 연동
✅ 루틴 추가/삭제/조회 기능
✅ 자동 알림 스케줄링 (시작/중간/종료)
✅ 한국어 TTS 음성 안내
✅ Material Design 3 UI
✅ 실시간 데이터 동기화
```

---

## 📱 앱 실행하기

### 1. 앱 시작
```bash
cd c:\work\RoutineMate\routine_mate
flutter run
```

### 2. 첫 루틴 만들기
1. **제목 입력**: "아침 운동"
2. **시작 시간**: 07:00 선택
3. **종료 시간**: 08:00 선택
4. **"루틴 추가"** 버튼 클릭
5. 🔊 음성으로 "루틴 아침 운동이 추가되었습니다" 들림

### 3. 알림 확인
- 07:00 → 🎯 "아침 운동 시작 시간입니다!"
- 07:30 → ⏰ "아침 운동 절반 진행되었습니다!"
- 08:00 → ✅ "아침 운동 종료 시간입니다!"

---

## 🎯 화면 구성

### 상단 (루틴 추가 폼)
```
┌─────────────────────────────────────┐
│  루틴 제목: [입력창]                 │
│                                      │
│  [시작 시간] [종료 시간]             │
│                                      │
│  [루틴 추가 버튼]                    │
└─────────────────────────────────────┘
```

### 하단 (루틴 목록)
```
┌─────────────────────────────────────┐
│  1  아침 운동                    🗑️ │
│     ⏰ 07:00 ~ 08:00                │
├─────────────────────────────────────┤
│  2  저녁 독서                    🗑️ │
│     ⏰ 21:00 ~ 22:00                │
└─────────────────────────────────────┘
```

---

## 🔔 알림 동작 원리

### 알림 타이밍
```dart
시작 시간: 사용자가 설정한 시작 시간
중간 시간: 시작 + (종료 - 시작) / 2
종료 시간: 사용자가 설정한 종료 시간
```

### 예시
```
루틴: "공부"
시작: 14:00
종료: 16:00

→ 14:00 알림: "🎯 루틴 시작 - 공부 시작 시간입니다!"
→ 15:00 알림: "⏰ 루틴 진행 중 - 공부 절반 진행되었습니다!"
→ 16:00 알림: "✅ 루틴 완료 - 공부 종료 시간입니다!"
```

---

## 💾 데이터 구조

### Firestore Collection: `routines`
```json
{
  "title": "아침 운동",
  "start": "07:00",
  "end": "08:00",
  "createdAt": "2025-10-19T10:30:00.000Z"
}
```

---

## 🎨 UI 컴포넌트

### 1. 텍스트 입력
- 루틴 제목 입력 필드
- Material Design OutlineInputBorder

### 2. 시간 선택
- TimePickerDialog 사용
- 24시간 형식 지원

### 3. 루틴 카드
- 번호 표시 (CircleAvatar)
- 제목 (Bold)
- 시간 정보 (Subtitle)
- 삭제 버튼 (IconButton)

### 4. 피드백
- SnackBar: 성공/실패 메시지
- TTS: 음성 안내

---

## 🔧 주요 클래스 및 메서드

### RoutineHomeScreen
```dart
class _RoutineHomeScreenState extends State<RoutineHomeScreen> {
  // 핵심 메서드
  _initNotifications()      // 알림 초기화
  _initTts()                // TTS 초기화
  _listenRoutines()         // Firestore 실시간 리스닝
  _addRoutine()             // 루틴 추가
  _deleteRoutine(id)        // 루틴 삭제
  _scheduleNotifications()  // 알림 스케줄링
  _selectTime()             // 시간 선택
}
```

---

## 🎤 TTS 설정

### 언어 및 음성 파라미터
```dart
await _tts.setLanguage('ko-KR');     // 한국어
await _tts.setSpeechRate(0.5);       // 속도: 0.0 ~ 1.0
await _tts.setVolume(1.0);           // 볼륨: 0.0 ~ 1.0
await _tts.setPitch(1.0);            // 피치: 0.5 ~ 2.0
```

### 사용 예시
```dart
await _tts.speak('루틴이 추가되었습니다.');
await _tts.speak('루틴이 삭제되었습니다.');
```

---

## 📊 앱 상태 흐름

```
앱 시작
  ↓
Firebase 초기화
  ↓
알림 시스템 초기화
  ↓
TTS 초기화
  ↓
Firestore 리스너 시작
  ↓
UI 렌더링
  ↓
사용자 입력 대기
  ↓
루틴 추가/삭제
  ↓
Firestore 업데이트
  ↓
실시간 UI 업데이트
  ↓
알림 스케줄링
  ↓
TTS 피드백
```

---

## 🎁 보너스 팁

### 1. 빠른 테스트
가까운 시간으로 루틴을 설정하여 알림 즉시 확인:
```
현재 시간: 14:30
시작: 14:31 (1분 후)
종료: 14:33 (3분 후)
→ 중간: 14:32 (2분 후)
```

### 2. 여러 루틴 관리
하루 일과를 루틴으로 구성:
- 🌅 아침 운동 (06:00 ~ 07:00)
- 📚 오전 공부 (09:00 ~ 12:00)
- 🍱 점심 휴식 (12:00 ~ 13:00)
- 💼 오후 업무 (13:00 ~ 18:00)
- 🎮 저녁 취미 (19:00 ~ 21:00)

### 3. 음성 커스터마이징
TTS 설정 조정으로 선호하는 음성 찾기:
```dart
// 빠른 속도
await _tts.setSpeechRate(0.7);

// 낮은 음성
await _tts.setPitch(0.8);

// 높은 음성
await _tts.setPitch(1.3);
```

---

## 🎯 성공적인 사용 체크리스트

- [ ] 앱이 정상적으로 실행됨
- [ ] 루틴 추가 시 TTS 음성이 들림
- [ ] 루틴이 목록에 실시간으로 표시됨
- [ ] 루틴 삭제가 정상 작동함
- [ ] 알림 권한이 허용됨
- [ ] 테스트 알림이 표시됨
- [ ] Firebase에 데이터가 저장됨

---

## 🎊 완성!

축하합니다! RoutineMate 앱의 모든 핵심 기능이 구현되었습니다.

이제 일상 루틴을 체계적으로 관리하고, 
자동 알림과 음성 안내로 더 생산적인 하루를 보내세요! 🚀

---

**문제가 있나요?** 
FEATURES.md의 "문제 해결" 섹션을 참고하세요.
